<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestão Patrimonial APRODET</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="main.js" defer></script>
</head>
<body>
    <div class="dashboard" id="dashboard">
        <!-- Cabeçalho -->
        <header class="header">
            <div class="container">
                <div class="header-content">
                    <div class="logo-section">
                        <div class="logo-placeholder">
                            APD
                        </div>
                        <div class="title">
                            <h1>APRODET Dashboard</h1>
                            <p id="dashboard-subtitle">Análise Patrimonial em Tempo Real</p>
                        </div>
                    </div>
                    <div class="header-actions">
                        <div class="date-display">
                            <p id="current-date">Carregando data...</p>
                        </div>
                        <button class="btn-header" id="backToHomeBtn" title="Voltar ao início">
                            <i class="fas fa-home"></i>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <div class="container">
            <!-- Barra de Controle -->
            <section class="control-bar">
                <div class="upload-section">
                    <button class="upload-btn" id="uploadNewBtn">
                        <i class="fas fa-sync-alt"></i> Carregar Novo Ficheiro
                    </button>
                    <div class="file-name" id="currentFileName">Nenhum ficheiro selecionado</div>
                </div>
                <div class="action-buttons">
                    <button class="btn btn-primary" id="refreshAnalysisBtn">
                        <i class="fas fa-redo-alt"></i> Atualizar Análise
                    </button>
                    <button class="btn btn-secondary" id="exportPdfBtn">
                        <i class="fas fa-file-pdf"></i> Exportar PDF
                    </button>
                    <button class="btn btn-help" id="helpBtn">
                        <i class="fas fa-question-circle"></i> Ajuda
                    </button>
                </div>
            </section>

            <!-- Filtros -->
            <section class="filters" id="filtersSection">
                <h3><i class="fas fa-filter"></i> Filtros Avançados</h3>
                <div class="filter-grid">
                    <div class="filter-group">
                        <label for="categoryFilter"><i class="fas fa-tags"></i> Categoria</label>
                        <select id="categoryFilter">
                            <option value="all">Todas as Categorias</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="districtFilter"><i class="fas fa-map-marker-alt"></i> Distrito</label>
                        <select id="districtFilter">
                            <option value="all">Todos os Distritos</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="statusFilter"><i class="fas fa-clipboard-check"></i> Estado</label>
                        <select id="statusFilter">
                            <option value="all">Todos os Estados</option>
                            <option value="Bom">Bom</option>
                            <option value="Regular">Regular</option>
                            <option value="Ruim">Ruim</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="valueRange"><i class="fas fa-coins"></i> Valor (R$)</label>
                        <div class="range-inputs">
                            <input type="number" id="minValue" placeholder="Mínimo" min="0">
                            <span>até</span>
                            <input type="number" id="maxValue" placeholder="Máximo" min="0">
                        </div>
                    </div>
                    <div class="filter-group">
                        <label for="responsibleFilter"><i class="fas fa-user"></i> Responsável</label>
                        <select id="responsibleFilter">
                            <option value="all">Todos os Responsáveis</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="useFilter"><i class="fas fa-cogs"></i> Uso Atual</label>
                        <select id="useFilter">
                            <option value="all">Todos os Usos</option>
                        </select>
                    </div>
                </div>
                <div class="filter-actions">
                    <button class="btn btn-primary" id="applyFilters">
                        <i class="fas fa-check"></i> Aplicar Filtros
                    </button>
                    <button class="btn btn-help" id="resetFilters">
                        <i class="fas fa-redo"></i> Limpar Filtros
                    </button>
                    <button class="btn btn-export" id="exportFilteredBtn">
                        <i class="fas fa-download"></i> Exportar Filtrados
                    </button>
                </div>
            </section>

            <!-- Cards de Indicadores -->
            <section class="indicators" id="indicatorsSection">
                <div class="card card-1">
                    <div class="card-header">
                        <div>
                            <div class="card-title">Valor Total do Patrimônio</div>
                            <div class="card-value" id="totalValue">R$ 0,00</div>
                            <div class="card-change" id="valueChange">
                                <i class="fas fa-info-circle"></i> Soma de todos os valores
                            </div>
                        </div>
                        <div class="card-icon icon-1">
                            <i class="fas fa-coins"></i>
                        </div>
                    </div>
                </div>

                <div class="card card-2">
                    <div class="card-header">
                        <div>
                            <div class="card-title">Total de Itens</div>
                            <div class="card-value" id="totalItems">0</div>
                            <div class="card-change" id="itemsChange">
                                <i class="fas fa-info-circle"></i> Itens no inventário
                            </div>
                        </div>
                        <div class="card-icon icon-2">
                            <i class="fas fa-boxes"></i>
                        </div>
                    </div>
                </div>

                <div class="card card-3">
                    <div class="card-header">
                        <div>
                            <div class="card-title">Estado Médio</div>
                            <div class="card-value" id="avgStatus">0%</div>
                            <div class="card-change" id="statusChange">
                                <i class="fas fa-info-circle"></i> Índice de conservação
                            </div>
                        </div>
                        <div class="card-icon icon-3">
                            <i class="fas fa-clipboard-check"></i>
                        </div>
                    </div>
                </div>

                <div class="card card-4">
                    <div class="card-header">
                        <div>
                            <div class="card-title">Itens Críticos</div>
                            <div class="card-value" id="criticalItems">0</div>
                            <div class="card-change">
                                <i class="fas fa-exclamation-triangle"></i> Requerem atenção
                            </div>
                        </div>
                        <div class="card-icon icon-4">
                            <i class="fas fa-exclamation-circle"></i>
                        </div>
                    </div>
                </div>

                <!-- Add more cards as needed (Age, Remaining Life, etc.) -->
            </section>

            <!-- Gráficos -->
            <section class="charts-grid" id="chartsSection">
                <div class="chart-container">
                    <div class="chart-header">
                        <h3 class="chart-title"><i class="fas fa-chart-pie"></i> Valor por Categoria</h3>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="categoryChart"></canvas>
                    </div>
                </div>

                <!-- Additional charts like State, Acquisitions, etc. -->

            </section>
        </div>

        <!-- Modal de Ajuda -->
        <div class="modal" id="helpModal">
            <div class="modal-content">
                <button class="close-modal" id="closeModal">&times;</button>
                <h2><i class="fas fa-question-circle"></i> Ajuda - Dashboard APRODET</h2>
                <p>Como carregar e filtrar dados...</p>
            </div>
        </div>
    </div>
</body>
</html>
